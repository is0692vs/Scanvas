{
  "name": "Scanvas (Tauri & Python)",
  // ベースOSを新しい "Bookworm" に変更
  "image": "mcr.microsoft.com/devcontainers/rust:1-bookworm",

  "features": {
    "ghcr.io/devcontainers/features/node:1": {},
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.11"
    }
  },
  "runArgs": ["--privileged"],

  // パッケージ名をバージョン4.1に更新
  "postCreateCommand": "sudo apt-get update && sudo apt-get install -y build-essential pkg-config libglib2.0-dev libgirepository1.0-dev libjavascriptcoregtk-4.1-dev libsoup-3.0-dev libwebkit2gtk-4.1-dev libgtk-3-dev libayatana-appindicator3-dev librsvg2-dev patchelf libusb-1.0-0 && sudo usermod -aG plugdev vscode && pip3 install -r requirements.txt",

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.pylint",
        "ms-python.flake8",
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "ms-azuretools.vscode-docker",
        "bradlc.vscode-tailwindcss",
        "ms-vscode.vscode-json",
        "GitHub.copilot",
        "GitHub.copilot-chat",
        "GitHub.vscode-pull-request-github",
        "ms-python.vscode-python-envs",
        "ms-python.debugpy",
        "ms-python.vscode-pylance",
        "GitHub.codespaces",
        "GitHub.remotehub",
        "ms-vscode.remote-server",
        "ms-vscode-remote.vscode-remote-extensionpack",
        "saoudrizwan.claude-dev",
        "openai.chatgpt",
        "google.gemini-cli-vscode-ide-companion",
        "google.geminicodeassist",
        "mhutchie.git-graph",
        "donjayamanne.githistory",
        "github.vscode-github-actions",
        "eamodio.gitlens",
        "kilocode.kilo-code",
        "yzhang.markdown-all-in-one",
        "marp-team.marp-vscode",
        "donjayamanne.python-extension-pack",
        "cweijan.vscode-mysql-client2"
      ]
    }
  },

  "remoteUser": "vscode"
}
